import { BaseCommand } from './BaseCommand.js';

export class WebAppCommand extends BaseCommand {
  constructor() {
    super('webapp');
  }

  async execute(ctx) {
    const webAppUrl = process.env.WEBAPP_URL || `http://localhost:3001/webapp/index.html`;
    
    const message = 'üéØ **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å**\n\n' +
      '–∫–æ–º–ø–∞–Ω–∏–∏ –æ—Ç–±–µ—Ä—É—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—Å –∏ –Ω–∞–ø–∏—à—É—Ç –Ω–∞–ø—Ä—è–º—É—é\n\n' +
      '‚ú® **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**\n' +
      '‚Ä¢ –í—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –Ω–∞–≤—ã–∫–∏\n' +
      '‚Ä¢ –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å\n' +
      '‚Ä¢ –†–µ–∫—Ä—É—Ç–µ—Ä—ã –≤–∏–¥—è—Ç –≤–∞—à–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è\n' +
      '‚Ä¢ –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è\n\n' +
      'üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**\n' +
      '‚Ä¢ –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ Telegram\n' +
      '‚Ä¢ –ü—Ä–æ—Å—Ç–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã\n' +
      '‚Ä¢ –í—ã–±–æ—Ä –Ω–∞–≤—ã–∫–æ–≤ –∫–∞–∫ —Ç–µ–≥–æ–≤\n' +
      '‚Ä¢ –ë—ã—Å—Ç—Ä–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ';

    const keyboard = {
      reply_markup: {
        inline_keyboard: [
            [{
              text: 'üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å',
              web_app: { url: webAppUrl }
            }],
          [{
            text: 'üìã –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏',
            callback_data: 'show_vacancies'
          }],
          [{
            text: '‚ÑπÔ∏è –û –ø—Ä–æ—Å—Ç–æ–º –æ–ø—Ä–æ—Å–µ',
            callback_data: 'simple_survey_info'
          }]
        ]
      }
    };

    await ctx.reply(message, {
      parse_mode: 'Markdown',
      ...keyboard
    });
  }
}
